{"version":3,"sources":["info-2-64.png","testLogo.png","config.js","hash.js","getScreenSize.js","helper.js","GenreComponent.jsx","HoverComponent.jsx","Canvas.jsx","useMousePosition.jsx","KeyCanvas.jsx","DisplayGraph.jsx","App.js","index.js"],"names":["module","exports","__webpack_require__","p","scopes","hash","window","location","substring","split","reduce","initial","item","parts","decodeURIComponent","getScreenSize","_useState","useState","winWidth","innerWidth","winHeight","innerHeight","_useState2","Object","slicedToArray","windowDimension","detectHW","detectSize","useEffect","addEventListener","removeEventListener","transformCoordinates","x","y","axisLength","imgSize","GenreComponent","_ref","genres","react_default","a","createElement","className","map","genre","key","HoverComponent","imageSize","popularity","danceability","songInfo","smallFormat","console","log","bounds","lowX","highX","lowY","highY","findBounds","currElem","name","track","artists","artistString","i","length","MemorizedCanvas","React","memo","draw","height","width","position","setPosition","isMobile","setFromEvent","e","stopPropagation","preventDefault","touches","clientX","clientY","useMousePosition","canvas","useRef","xRect","yRect","grd","rect","current","getBoundingClientRect","context","getContext","devicePixelRatio","scale","style","beginPath","createLinearGradient","addColorStop","strokeStyle","lineWidth","moveTo","lineTo","stroke","fillStyle","arc","Math","PI","fill","ref","KeyCanvas","lineStartX","lineEndX","radius","fontsize","chillStart","rightSideStart","font","fillText","DisplayGraph","props","songData","items","popularityX","danceabilityY","songDictionary","albumSrcDictionary","superSmallFormat","id","album","images","url","loadedImages","src","info","alt","keys","_loop","image","Image","pt","onload","drawImage","App","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","token","no_data","getTopSongs","bind","assertThisInitialized","getAudioFeatures","getPopularity","getSongInfo","document","body","zoom","setInterval","decrTime","_token","access_token","setState","_this2","$","type","beforeSend","xhr","setRequestHeader","success","data","alert","_this3","genreList","j","artistID","dictionary","concat","_this4","_loop2","audio_features","_this5","_loop3","logo","href","join","Component","ReactDOM","render","src_App_0","getElementById"],"mappings":"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","file":"static/js/main.7a6a7357.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/testLogo.4791f781.png\";","export const authEndpoint = \"https://accounts.spotify.com/authorize\";\n\nexport const clientId = \"3a73a562c583499ea19565fc3ebc4bcc\";\nexport const redirectUri = \"https://plotifyapp.github.io/\";\nexport const scopes = [\n    \"user-top-read\",\n];\n","// Get the hash of the url\nconst hash = window.location.hash\n  .substring(1)\n  .split(\"&\")\n  .reduce(function(initial, item) {\n    if (item) {\n      var parts = item.split(\"=\");\n      initial[parts[0]] = decodeURIComponent(parts[1]);\n    }\n    return initial;\n  }, {});\nwindow.location.hash = \"\";\n\nexport default hash;\n","import {useState, useEffect} from \"react\";\n\nexport const getScreenSize = () => {\n    const [windowDimension, detectHW] = useState({\n      winWidth: window.innerWidth,\n      winHeight: window.innerHeight,\n    })\n  \n    const detectSize = () => {\n      detectHW({\n        winWidth: window.innerWidth,\n        winHeight: window.innerHeight,\n      })\n    }\n  \n    useEffect(() => {\n      window.addEventListener('resize', detectSize)\n      return () => {\n        window.removeEventListener('resize', detectSize)\n      }\n    }, [windowDimension])\n  \n    return windowDimension.winWidth;\n}","export function transformCoordinates(x, y, axisLength, imgSize) {\n    const xTransform = (x / 100) * (axisLength - imgSize)\n    const yTransform = (y / 100) * (axisLength - imgSize) \n    return [xTransform, yTransform]\n}\n\nexport function findBounds(popularity, danceability, axisLength, imageSize) {\n    const bounds = {}\n    for (var key in popularity) {\n        if (key in danceability) {\n            const lowX = transformCoordinates(popularity[key], danceability[key], axisLength, imageSize)[0]\n            const highX = transformCoordinates(popularity[key], danceability[key], axisLength, imageSize)[0] + imageSize\n            const lowY = transformCoordinates(popularity[key], danceability[key], axisLength, imageSize)[1]\n            const highY = transformCoordinates(popularity[key], danceability[key], axisLength, imageSize)[1] + imageSize\n            bounds[key] = [lowX, highX, lowY, highY]\n        }\n    }\n    return bounds\n}","import React, {useState, useEffect} from \"react\";\nimport \"./genreComponent.css\"\n\nexport function GenreComponent({genres}) {\n\n    return (\n        <div className=\"parent\"> \n            {genres.map(genre => <p key={genre} className=\"genreComponent\"> {genre} </p>)}\n        </div>\n    )\n}","import React, {useState, useEffect} from \"react\";\nimport { findBounds, transformCoordinates } from \"./helper\";\nimport \"./hoverComponent.css\"\nimport { GenreComponent } from \"./GenreComponent\";\n\nexport function HoverComponent({x, y, imageSize, axisLength, popularity, danceability, songInfo, smallFormat}) {\n    console.log(x) \n    console.log(y)\n    // set bounds for the coordinates\n    const bounds = findBounds(popularity, danceability, axisLength, imageSize);\n\n    // return correct component if in bounds \n    var currElem = null; \n    for (var key in bounds) {\n        const lowX = bounds[key][0]\n        const highX = bounds[key][1]\n        const lowY = bounds[key][2]\n        const highY = bounds[key][3]\n        if (x >= lowX && x <= highX && y >= lowY && y <= highY) {\n            currElem = key\n        } \n    }\n    if (currElem != null && currElem in songInfo) {\n        const name = songInfo[currElem].track \n        const artists = songInfo[currElem].artists\n        let artistString = \"\" \n        for (var i = 0; i < artists.length; i++) {\n            if (i === 0) {\n                artistString = artistString + artists[i].name\n            } else {\n                artistString = artistString + \", \" + artists[i].name\n            }\n        }\n        const genres = songInfo[currElem].genres\n        let className = \"songInfo\"\n        if (smallFormat) {\n            className = \"smallSongInfo\"\n        }\n        return (\n            <div className={className}>\n                <p className=\"name\"> \n                    <strong> {name} </strong>\n                </p>\n                <p className=\"artist\"> \n                    {artistString}\n                </p>\n                <GenreComponent genres={genres}/>\n            </div>\n        )\n        \n    } else {\n        return null\n    }\n}","import React, {useState, useEffect, useRef} from \"react\";\nimport \"./Canvas.css\"\nimport { useMousePosition } from \"./useMousePosition\";\nimport MouseTooltip from 'react-sticky-mouse-tooltip';\nimport { HoverComponent } from \"./HoverComponent\";\n\nexport function Canvas ({ draw, height, width, imageSize, popularity, danceability, songInfo, smallFormat }) {\n    \n    const position = useMousePosition()\n    const canvas = React.useRef();\n\n    const xRect = useRef(0);\n    const yRect = useRef(0);\n    \n    React.useEffect(() => {\n        var rect = canvas.current.getBoundingClientRect();\n        const context = canvas.current.getContext(\"2d\");\n        canvas.current.width = width * devicePixelRatio;\n        canvas.current.height = height * devicePixelRatio;\n        // ensure all drawing operations are scaled\n        context.scale(devicePixelRatio, devicePixelRatio);\n        // scale everything down using CSS\n        canvas.current.style.width = width + 'px';\n        canvas.current.style.height = height + 'px';\n        // may want to make it s.t. if screen size changes --> refresh app \n\n        context.beginPath();\n        var grd = context.createLinearGradient(0, 0, 0, height);\n        grd.addColorStop(0, \"darkturquoise\");\n        grd.addColorStop(1, \"greenyellow\");\n        context.strokeStyle = grd;\n        context.lineWidth = 1.5; \n        context.moveTo(width/(2), 0);\n        context.lineTo(width/(2), (width));\n        context.stroke();\n\n        context.beginPath();\n        var grd = context.createLinearGradient(0, 0, width, 0);\n        grd.addColorStop(0, \"yellow\");\n        grd.addColorStop(1, \"magenta\");\n        context.strokeStyle = grd;\n        context.moveTo(0, (width)/(2));\n        context.lineTo((width), (width)/(2));\n        context.stroke();\n\n        context.beginPath(); \n        context.fillStyle = \"yellow\"\n        context.arc(5, width/2, 5, 0 * Math.PI, 2 * Math.PI);\n        context.fill();\n\n        context.beginPath(); \n        context.fillStyle = \"magenta\"\n        context.arc(width - 5, width/2, 5, 0 * Math.PI, 2 * Math.PI);\n        context.fill();\n\n        context.beginPath(); \n        context.fillStyle = \"darkturquoise\"\n        context.arc(width/2, 5, 5, 0 * Math.PI, 2 * Math.PI);\n        context.fill();\n\n        context.beginPath(); \n        context.fillStyle = \"greenyellow\"\n        context.arc(width/2, width - 5, 5, 0 * Math.PI, 2 * Math.PI);\n        context.fill();\n\n        draw(context);\n        xRect.current = rect.x;\n        yRect.current = rect.y;\n    });\n\n    let xOffset; \n    if (position.x - xRect.current >= width/2 && smallFormat) {\n        xOffset = -100\n    } else {\n        xOffset = 0;\n    }\n\n    return (\n        <div> \n            <canvas className=\"canvas\" ref={canvas} height={height} width={width}/>\n            {/* <MouseTooltip\n            className=\"test\"\n            visible={true}\n            offsetX={xOffset}\n            offsetY={0}\n            > */}\n            <HoverComponent x={position.x - xRect.current} \n                            y={position.y - yRect.current} \n                            imageSize={imageSize} \n                            axisLength={width}\n                            popularity={popularity}\n                            danceability={danceability}\n                            songInfo={songInfo}\n                            smallFormat={smallFormat}\n                            />\n            {/* </MouseTooltip> */}\n        </div>\n    )\n};\n\nexport const MemorizedCanvas = React.memo(Canvas, () => {\n    return false\n})","import { useEffect, useState } from \"react\";\nimport {isMobile} from 'react-device-detect';\n\nexport function useMousePosition() {\n  const [position, setPosition] = useState({ x: 0, y: 0 });\n\n  if(isMobile) {\n    useEffect(() => {\n      const setFromEvent = (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n        setPosition({ x: e.touches[0].clientX, y: e.touches[0].clientY });\n      }\n      window.addEventListener(\"touchstart\", setFromEvent);\n  \n      return () => {\n        window.removeEventListener(\"touchstart\", setFromEvent);\n      };\n    }, []);\n  } else {\n    useEffect(() => {\n      const setFromEvent = (e) => setPosition({ x: e.clientX, y: e.clientY });\n      window.addEventListener(\"mousemove\", setFromEvent);\n  \n      return () => {\n        window.removeEventListener(\"mousemove\", setFromEvent);\n      };\n    }, []);\n  }\n  \n  return position;\n};","import React from \"react\";\n\nexport function KeyCanvas ({ height, width, smallFormat }) {\n    \n    const canvas = React.useRef();\n    \n    React.useEffect(() => {\n        const context = canvas.current.getContext(\"2d\");\n        canvas.current.width = width * devicePixelRatio;\n        canvas.current.height = height * devicePixelRatio;\n        // ensure all drawing operations are scaled\n        context.scale(devicePixelRatio, devicePixelRatio);\n        // scale everything down using CSS\n        canvas.current.style.width = width + 'px';\n        canvas.current.style.height = height + 'px';\n        // may want to make it s.t. if screen size changes --> refresh app \n\n        let lineStartX = 88; \n        let lineEndX = 113; \n        let radius = 5; \n        let fontsize = \"14px\"\n        let chillStart = 42; \n        let rightSideStart = 125; \n\n        if (smallFormat) {\n            fontsize = \"12px\"\n            radius = 4;\n            lineStartX = 70;\n            lineEndX = 95; \n            chillStart = 37;\n            rightSideStart = 98;\n        }\n        context.beginPath();\n        var grd = context.createLinearGradient(lineStartX, 35, lineEndX - 10, 35);\n        grd.addColorStop(0, \"darkturquoise\");\n        grd.addColorStop(1, \"greenyellow\");\n        context.strokeStyle = grd;\n        context.lineWidth = 1.5; \n        context.moveTo(lineStartX, 35);\n        context.lineTo(lineEndX, 35);\n        context.stroke();\n\n        context.beginPath();\n        var grd = context.createLinearGradient(lineStartX, 15, lineEndX, 15);\n        grd.addColorStop(0, \"yellow\");\n        grd.addColorStop(1, \"magenta\");\n        context.strokeStyle = grd;\n        context.moveTo(lineStartX, 15);\n        context.lineTo(lineEndX, 15);\n        context.stroke();\n\n        context.beginPath(); \n        context.fillStyle = \"yellow\"\n        context.arc(lineStartX - radius, 15, radius, 0 * Math.PI, 2 * Math.PI);\n        context.fill();\n\n        context.beginPath(); \n        context.fillStyle = \"magenta\"\n        context.arc(lineEndX - radius, 15, radius, 0 * Math.PI, 2 * Math.PI);\n        context.fill();\n\n        context.beginPath(); \n        context.fillStyle = \"darkturquoise\"\n        context.arc(lineStartX - radius, 35, radius, 0 * Math.PI, 2 * Math.PI);\n        context.fill();\n\n        context.beginPath(); \n        context.fillStyle = \"greenyellow\"\n        context.arc(lineEndX - radius, 35, radius, 0 * Math.PI, 2 * Math.PI);\n        context.fill();\n\n        context.fillStyle = \"grey\";\n        context.font = fontsize + \" Helvetica\";\n        context.fillText(\"underrated\", 0, 18);\n\n        context.fillStyle = \"grey\";\n        context.font = fontsize + \" Helvetica\";\n        context.fillText(\"chill\", chillStart, 38);\n\n        context.fillStyle = \"grey\";\n        context.font = fontsize + \" Helvetica\";\n        context.fillText(\"basic\", rightSideStart, 18);\n\n        context.fillStyle = \"grey\";\n        context.font = fontsize + \" Helvetica\";\n        context.fillText(\"hype\", rightSideStart, 38);\n    });\n\n    return (\n        <div> \n            <canvas className=\"canvas\" ref={canvas} height={height} width={width}/>\n        </div>\n    )\n};\n","import React, {useState, useEffect} from \"react\";\nimport \"./Canvas.css\"\nimport { getScreenSize } from \"./getScreenSize\";\nimport { MemorizedCanvas } from \"./Canvas\";\nimport { transformCoordinates } from \"./helper\";\nimport { KeyCanvas } from \"./KeyCanvas\";\nimport info from \"./info-2-64.png\"\n\nexport function DisplayGraph(props) {\n    const songData = props.items;\n    const popularityX = props.popularity;\n    const danceabilityY = props.danceability;\n    const songDictionary = props.songDictionary;\n    // keys are song ids, values are src links\n    const albumSrcDictionary = {};\n\n    // determine dimensions \n    const width = getScreenSize();\n    let imgSize; \n    let axisLength; \n    let smallFormat = false; \n    let superSmallFormat = false; \n    if (width > 900) {\n      imgSize = 0.038 * width; \n      axisLength = 0.4 * width;\n    } else if (width > 600) {\n      imgSize = 0.05 * width; \n      axisLength = 0.6 * width;\n    }\n      else {\n      imgSize = 0.1 * width; \n      axisLength = 0.85 * width;\n      smallFormat = true;\n    }\n\n    if (width < 400) {\n      superSmallFormat = true;\n    }\n\n    // get tracks + album covers \n    if (songData !== null) {\n      for (var i = 0; i < songData.length; i++) {\n        albumSrcDictionary[songData[i].id] = songData[i].album.images[0].url;\n      }  \n    } \n\n    const loadedImages = {}\n    // load images on graph w/o glitching (hopefully)\n    function draw (context){\n      if (Object.keys(loadedImages).length <= 0) {\n        for (var key in albumSrcDictionary) {\n          const image = new Image();\n          image.src = albumSrcDictionary[key];\n          const pt = transformCoordinates(popularityX[key], danceabilityY[key], axisLength, imgSize)\n          image.onload = () => {\n            context.drawImage(image, pt[0], pt[1], imgSize, imgSize);\n          };\n          loadedImages[key]= image\n        }\n      } else {\n        for (var key in loadedImages) {\n          const pt = transformCoordinates(popularityX[key], danceabilityY[key], axisLength, imgSize)\n          context.drawImage(loadedImages[key], pt[0], pt[1], imgSize, imgSize);\n        }\n      }   \n    };\n\n    // display stuff\n    if (albumSrcDictionary.length === 0) {\n        return (\n            <p> Loading...</p>\n        )\n    } else if (width <250) {\n      return (\n        <p className=\"sorry\"> \n          We're sorry, your display is too small to properly view the data. Please switch to a device with a larger screen size.\n        </p>\n      )\n    } else {\n      return (\n        <div>\n          <div className=\"heading\">\n            <h2 className=\"header\"> Your Music</h2> \n            <div className=\"infoDiv\"> \n              <img className=\"info\" src={info} alt=\"info page\"/> \n              <div className=\"hiddenInfo\"> \n                <h3 className=\"infoHeading\"> Info </h3>\n                <p> We use the Spotify API to determine the \"popularity\" and \"danceability\" of your top 10 songs. This data is used \n                to calculate how basic/underrated and chill/hype your songs are :) </p>\n                \n              </div>\n            </div> \n          </div> \n          <KeyCanvas className=\"key\" height={50} width={axisLength} smallFormat={superSmallFormat}/> \n          <MemorizedCanvas draw={draw} \n                          height={axisLength} \n                          width={axisLength} \n                          imageSize={imgSize} \n                          popularity={popularityX} \n                          danceability={danceabilityY}\n                          songInfo={songDictionary}\n                          smallFormat={smallFormat}/>\n        </div>   \n      )   \n    } \n  }","import React, { Component } from \"react\";\nimport * as $ from \"jquery\";\nimport { authEndpoint, clientId, redirectUri, scopes } from \"./config\";\nimport hash from \"./hash\";\nimport {DisplayGraph} from \"./DisplayGraph\";\nimport \"./App.css\";\nimport logo from \"./testLogo.png\";\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      token: null,\n      items: null,\n      no_data: false,\n      danceability: {}, \n      popularity: {},\n      songDictionary: {}, \n    };\n    this.getTopSongs = this.getTopSongs.bind(this)    \n    this.getAudioFeatures = this.getAudioFeatures.bind(this)\n    this.getPopularity = this.getPopularity.bind(this)\n    this.getSongInfo = this.getSongInfo.bind(this)\n  }\n\n  componentDidMount() {      \n    document.body.style.zoom = \"100%\";\n    setInterval(this.decrTime, 1000);\n    // Set token\n    let _token = hash.access_token;\n\n    if (_token) {\n      // Set token\n      this.setState({\n        token: _token\n      });\n      // this.getCurrentlyPlaying(_token);\n      this.getTopSongs(_token);\n    }\n  }\n\n  getTopSongs(token) {\n    $.ajax({\n      url: \"https://api.spotify.com/v1/me/top/tracks?limit=10&time_range=long_term\",\n      type: \"GET\",\n      beforeSend: xhr => {\n        xhr.setRequestHeader(\"Authorization\", \"Bearer \" + token);\n      },\n      success: data => {\n        // Checks if the data is not empty\n        if(!data) {\n          window.alert(\"NOOOOO we couldn't get your top songs :((\");\n          return;\n        }\n        this.setState({\n          items: data.items,\n          no_data: false /* We need to \"reset\" the boolean, in case the\n                            user does not give F5 and has opened his Spotify. */\n        });\n        console.log(data)\n        this.getAudioFeatures(token)\n        this.getPopularity(token)\n        this.getSongInfo(token)\n      }\n    });\n  }\n\n  getSongInfo(token) {\n    for (var i = 0; i < this.state.items.length; i++) {\n      const id = this.state.items[i].id\n      const dictionary = this.state.songDictionary; \n      this.setState({\n        genreList: []\n      })\n      const track = this.state.items[i].name; \n      const artists = this.state.items[i].artists;\n      for (var j = 0; j < artists.length; j++) {\n        const artistID = artists[j].id\n        $.ajax({\n          url: \"https://api.spotify.com/v1/artists/\" + artistID,\n          type: \"GET\",\n          beforeSend: xhr => {\n            xhr.setRequestHeader(\"Authorization\", \"Bearer \" + token);\n          },\n          success: data => {\n            // Checks if the data is not empty\n            if(!data) {\n              window.alert(\"NOOOOO we couldn't get your top songs :((\");\n              return;\n            }\n            const dictionary = this.state.songDictionary;\n            if (id in dictionary) {\n              dictionary[id] = {\n                track: track, \n                artists: artists, \n                genres: (dictionary[id].genres).concat(data.genres)\n              }\n            } else {\n              dictionary[id] = {\n                track: track, \n                artists: artists, \n                genres: data.genres\n              }\n            }\n            this.setState({\n              songDictionary: dictionary, \n            })\n          }\n        });\n      }\n    }\n  }\n\n  getAudioFeatures(token) {\n    for (var i = 0; i < this.state.items.length; i++) {\n      const id = this.state.items[i].id\n      $.ajax({\n        url: \"https://api.spotify.com/v1/audio-features?ids=\" + id,\n        type: \"GET\",\n        beforeSend: xhr => {\n          xhr.setRequestHeader(\"Authorization\", \"Bearer \" + token);\n        },\n        success: data => {\n          // Checks if the data is not empty\n          if(!data) {\n            window.alert(\"NOOOOO we couldn't get your top songs :((\")\n            return;\n          }\n          const dictionary = this.state.danceability;\n          dictionary[id] = [data.audio_features[0].danceability * 100];  \n          this.setState({\n            danceability: dictionary, \n          })\n        }\n      });\n    }\n  }\n\n  getPopularity(token) {\n    for (var i = 0; i < this.state.items.length; i++) {\n      const id = this.state.items[i].id\n      $.ajax({\n        url: \"https://api.spotify.com/v1/tracks/\" + id,\n        type: \"GET\",\n        beforeSend: xhr => {\n          xhr.setRequestHeader(\"Authorization\", \"Bearer \" + token);\n        },\n        success: data => {\n          // Checks if the data is not empty\n          if(!data) {\n            window.alert(\"NOOOOO we couldn't get your top songs :((\")\n            return;\n          }\n          const dictionary = this.state.popularity;\n          dictionary[id] = [data.popularity];  \n          this.setState({\n            popularity: dictionary, \n          })\n        }\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"App-header\">\n          {!this.state.token && (\n            <div className=\"main\"> \n              <h1 className=\"title\"> plotify </h1>\n              <img className=\"logo\" src={logo} alt=\"logo\"/> \n              <h1 className=\"divider\"> </h1>\n              <a\n                className=\"btn btn--loginApp-link\"\n                href={`${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\n                  \"%20\"\n                )}&response_type=token&show_dialog=true`}\n              >\n                Log in with Spotify\n              </a>\n              <p className=\"hi\"> made with &#60;3 by Kaily Liu and Joyce He </p>\n            </div> \n            \n          )}\n          {this.state.token && !this.state.no_data && (\n            <div> \n              <DisplayGraph items={this.state.items} \n                          popularity={this.state.popularity} \n                          danceability={this.state.danceability} \n                          songDictionary={this.state.songDictionary}/> \n            </div>\n          )}\n          {this.state.no_data && (\n            <p>\n              NOOO it doesn't seem like we were able to retrieve your data :(\n            </p>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}